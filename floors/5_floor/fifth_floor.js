import {
    create_map,
    create_popup,
    pointermove,
    click,
    polygonFeatures,
    template_polygon_feature,
    defaultStyle,
    highlightStyle,
    imageWidth,
    imageHeight,
    imageExtent,
    proj,
    vectorSource,
    fill_filter,
    setup_filter,
    get_filters,
    filter_features,
    reset_filters,
    show_schedule,
    apply_filter,
    vectorLayer
} from '/index.js';;

// лестницы
template_polygon_feature([[[1479, 1027],[1600, 1027],[1600, 944],[1479, 944],[1479, 1027]]], 'центральная лестница', 'centralstairs1');
template_polygon_feature([[[1604, 1001],[1769, 1001],[1769, 873],[1604, 873],[1604, 1001]]], 'центральная лестница', 'centralstairs2');
template_polygon_feature([[[1772, 1027],[1892, 1027],[1892, 944],[1772, 944],[1772, 1027]]], 'центральная лестница', 'centralstairs3');
template_polygon_feature([[[2494, 1088],[2637, 1088],[2637, 950],[2494, 950],[2494, 1088]]], 'лестница', 'rightstairs');
template_polygon_feature([[[2587, 1916],[2730, 1916],[2730, 1844],[2587, 1844],[2587, 1916]]], 'лестница', 'farrightstairs');
template_polygon_feature([[[737, 1079],[876, 1079],[876, 940],[737, 940],[737, 1079]]], 'лестница', 'leftstairs');
template_polygon_feature([[[133, 1548],[201, 1548],[201, 1468],[133, 1468],[133, 1548]]], 'лестница', 'farleftstairs1');
template_polygon_feature([[[62, 1466],[134, 1466],[134, 1398],[62, 1398],[62, 1466]]], 'лестница', 'farleftstairs2');
template_polygon_feature([[[131, 1396],[201, 1396],[201, 1320],[131, 1320],[131, 1396]]], 'лестница', 'farleftstairs3');

// лифты
template_polygon_feature([[[643, 1122],[730, 1122],[730, 1024],[643, 1024],[643, 1122]]], 'лифт', 'elevator1');
template_polygon_feature([[[645, 887],[735, 887],[735, 790],[645, 790],[645, 887]]], 'лифт', 'elevator2');
template_polygon_feature([[[2642, 1123],[2729, 1123],[2729, 1027],[2642, 1027],[2642, 1123]]], 'лифт', 'elevator3');
template_polygon_feature([[[2638, 889],[2727, 889],[2727, 792],[2638, 792],[2638, 889]]], 'лифт', 'elevator4');

// туалеты
template_polygon_feature([[[637, 1320],[801, 1320],[801, 1136],[637, 1136],[637, 1320]]], 'туалет женский', 'toilet1');
template_polygon_feature([[[2581, 1726],[2740, 1726],[2740, 1525],[2581, 1525],[2581, 1726]]], 'туалет женский', 'toilet2');

// аудитории левого крыла
template_polygon_feature([[[178, 1320],[475, 1320],[475, 1084],[178, 1084],[178, 1320]]], '508 (кафедры теории государства и права, социальных коммуникаций)', '508');
template_polygon_feature([[[178, 1081],[475, 1081],[475, 954],[178, 954],[178, 1081]]], '507 (совет студентов и аспирантов юридического факультета)', '507');

template_polygon_feature([[[178, 950],[475, 950],[475, 604],[178, 604],[178, 950]]], '506 (кафедра конституционного и муниципального права)', '506',
    [{ day: 'Среда', number: '5', department: ['ФМиЕНД'], group: ['220'], teacher: 'Деманова С.В.', lesson: 'Право в сфере образования', type: 'лек.', parity: '-'},
    { day: 'Среда', number: '6', department: ['ФМиЕНД'], group: ['220'], teacher: 'Деманова С.В.', lesson: 'Право в сфере образования', type: 'пр.', parity: '-'},]);

template_polygon_feature([[[178, 600],[632, 600],[632, 373],[510, 373],[510, 250],[178, 250], [178, 600]]], '505 (деканат юридического факультета)', '505');
template_polygon_feature([[[886, 1097],[1073, 1097],[1073, 778],[886, 778],[886, 1097]]], '510 (зал заседаний советов)', '510');
template_polygon_feature([[[1076, 1097],[1244, 1097],[1244, 778],[1076, 778],[1076, 1097]]], '511 (учебная лаборатория криминалистического исследования документов)', '511');
template_polygon_feature([[[1247, 1097],[1458, 1097],[1458, 778],[1247, 778],[1247, 1097]]], '512 (учебная лаборатория ЛИССА)', '512');
template_polygon_feature([[[632, 631],[918, 631],[918, 373],[632, 373],[632, 631]]], '504 (компьютерный класс юридического факультета)', '504');
template_polygon_feature([[[921, 631],[1163, 631],[1163, 373],[921, 373],[921, 631]]], '503 (компьютерный класс юридического факультета)', '503');
template_polygon_feature([[[1166, 631],[1361, 631],[1361, 373],[1166, 373],[1166, 631]]], '502', '502');
template_polygon_feature([[[1364, 635],[1518, 635],[1518, 373],[1364, 373],[1364, 635]]], '501', '501');
template_polygon_feature([[[1521, 635],[1824, 635],[1824, 373],[1521, 373],[1521, 635]]], '530/531', '530');

// аудитории правого крыла
template_polygon_feature([[[1827, 635],[1995, 635],[1995, 373],[1827, 373],[1827, 635]]], '529', '529');
template_polygon_feature([[[1998, 635],[2230, 635],[2230, 373],[1998, 373],[1998, 635]]], '528 (зал судебных заседаний)', '528');
template_polygon_feature([[[2233, 635],[2504, 635],[2504, 373],[2233, 373],[2233, 635]]], '527', '527');
template_polygon_feature([[[2507, 635],[2749, 635],[2749, 373],[2507, 373],[2507, 635]]], '526 (компьютерный класс юридического <br> факультета)', '526');
template_polygon_feature([[[1915, 1097],[2163, 1097],[2163, 778],[1915, 778],[1915, 1097]]], '513', '513');
template_polygon_feature([[[2166, 1097],[2300, 1097],[2300, 778],[2166, 778],[2166, 1097]]], '514', '514');
template_polygon_feature([[[2303, 1097],[2488, 1097],[2488, 778],[2303, 778],[2303, 1097]]], '515 (учебная лаборатория криминалистики и <br> судебных экспертиз)', '515');
template_polygon_feature([[[2894, 565],[3193, 565],[3193, 251],[2863, 251],[2863, 373],[2894, 373],[2894, 565]]], '525 (кафедры таможенного, <br> административного и <br> финансового права и <br> уголовного, экологического <br> права и криминологии)', '525');
template_polygon_feature([[[2894, 568],[3193, 568],[3193, 929],[2894, 929],[2894, 568]]], '524 (кафедра гражданского <br> права и процесса)', '524');
template_polygon_feature([[[2894, 1318],[3193, 1318],[3193, 932],[2894, 932],[2894, 1318]]], '523 (кафедра политических <br> наук)', '523');
template_polygon_feature([[[2894, 1550],[3310, 1550],[3310, 1320],[2894, 1320],[2894, 1550]]], '521/522', '521');
template_polygon_feature([[[2894, 1628],[3193, 1628],[3193, 1552],[2894, 1552],[2894, 1628]]], '520', '520');
template_polygon_feature([[[2894, 1717],[3193, 1717],[3193, 1630],[2894, 1630],[2894, 1717]]], '519', '519');

template_polygon_feature([[[2894, 1832],[3315, 1832],[3315, 1719],[2894, 1719],[2894, 1832]]], '518', '518', 
    [{ day: 'Понедельник', number: '1', department: ['Экономический'], group: ['141'], teacher: 'Алексеева Д.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},
    { day: 'Понедельник', number: '1', department: ['Экономический'], group: ['241'], teacher: 'Фурсов А.Л.', lesson: 'Управление персоналом организации', type: 'лек.', parity: '-'},
    { day: 'Понедельник', number: '2', department: ['Экономический'], group: ['241'], teacher: 'Фурсов А.Л.', lesson: 'Управление персоналом организации', type: 'пр.', parity: 'знам.'},
    { day: 'Понедельник', number: '3', department: ['Экономический'], group: ['112'], teacher: 'Шебалдин В.Р.', lesson: 'Математический анализ', type: 'пр.', parity: '-'},
    { day: 'Понедельник', number: '4', department: ['Экономический'], group: ['121'], teacher: 'Алавина Е.М.', lesson: 'Кураторский час', type: 'лек.', parity: 'знам.'},
    { day: 'Вторник', number: '3', department: ['Экономический'], group: ['412'], teacher: 'Соловых С.Н.', lesson: 'Правовая среда современного бизнеса', type: 'лек.', parity: '-'},
    { day: 'Вторник', number: '4', department: ['Экономический'], group: ['212', '213'], teacher: 'Тугушева Р.Р.', lesson: 'Макроэкономика', type: 'пр.', parity: '-'},
    { day: 'Вторник', number: '5', department: ['Экономический'], group: ['121'], teacher: 'Исайкина М.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},
    { day: 'Среда', number: '1', department: ['Экономический'], group: ['141'], teacher: 'Алексеева Д.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},
    { day: 'Среда', number: '5', department: ['Экономический'], group: ['112'], teacher: 'Исайкина М.А.', lesson: 'Английский язык (1 гр.)', type: 'пр.', parity: '-'},
    { day: 'Четверг', number: '2', department: ['Экономический'], group: ['212'], teacher: 'Балаш О.С.', lesson: 'Статистика', type: 'пр.', parity: '-'},
    { day: 'Четверг', number: '5', department: ['Экономический'], group: ['121'], teacher: 'Исайкина М.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},
    { day: 'Пятница', number: '1', department: ['Экономический'], group: ['111'], teacher: 'Исайкина М.А.', lesson: 'Английский язык (1 гр.)', type: 'пр.', parity: '-'},
    { day: 'Пятница', number: '2', department: ['Экономический'], group: ['111'], teacher: 'Исайкина М.А.', lesson: 'Английский язык (1 гр.)', type: 'пр.', parity: '-'},
    { day: 'Пятница', number: '3', department: ['Экономический'], group: ['212'], teacher: 'Исайкина М.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},
    { day: 'Пятница', number: '4', department: ['Экономический'], group: ['112'], teacher: 'Исайкина М.А.', lesson: 'Английский язык (1 гр.)', type: 'пр.', parity: '-'},
    { day: 'Пятница', number: '4', department: ['Экономический'], group: ['212'], teacher: 'Исайкина М.А.', lesson: 'Английский язык', type: 'пр.', parity: '-'},]);

template_polygon_feature([[[2894, 1948],[3315, 1948],[3315, 1832],[2894, 1832],[2894, 1948]]], '517', '517', 
    [{ day: 'Понедельник', number: '2', department: ['Экономический'], group: ['322'], teacher: 'Бгашев М.В.', lesson: 'Производственный менеджмент', type: 'пр.', parity: '-'},
    { day: 'Понедельник', number: '3', department: ['Экономический'], group: ['321'], teacher: 'Бгашев М.В.', lesson: 'Производственный менеджмент', type: 'пр.', parity: '-'},
    { day: 'Понедельник', number: '4', department: ['Экономический'], group: ['111'], teacher: 'Оберт Т.Б.', lesson: 'Кураторский час', type: 'лек.', parity: 'чис.'},
    { day: 'Вторник', number: '4', department: ['Экономический'], group: ['241'], teacher: 'Землянухина Н.С.', lesson: 'Рынок труда', type: 'лек.', parity: '-'},
    { day: 'Вторник', number: '5', department: ['Экономический'], group: ['241'], teacher: 'Землянухина Н.С.', lesson: 'Рынок труда', type: 'пр.', parity: '-'},
    { day: 'Вторник', number: '6', department: ['Экономический'], group: ['341'], teacher: 'Кузнецов П.С.', lesson: 'Оплата труда персонала', type: 'лек.', parity: '-'},
    { day: 'Вторник', number: '7', department: ['Экономический'], group: ['341'], teacher: 'Кузнецов П.С.', lesson: 'Оплата труда персонала', type: 'пр.', parity: '-'},
    { day: 'Среда', number: '2', department: ['Экономический'], group: ['341'], teacher: 'Калашникова С.П.', lesson: 'Маркетинг персонала', type: 'лек.', parity: '-'},
    { day: 'Среда', number: '2', department: ['Экономический'], group: ['313'], teacher: 'Коробов Е.А.', lesson: 'Анализ и оценка риска', type: 'пр.', parity: '-'},
    { day: 'Среда', number: '3', department: ['Экономический'], group: ['341'], teacher: 'Калашникова С.П.', lesson: 'Маркетинг', type: 'пр.', parity: 'чис.'},
    { day: 'Среда', number: '3', department: ['Экономический'], group: ['341'], teacher: 'Землянухина Н.С.', lesson: 'Спецсеминар', type: 'пр.', parity: 'знам.'},
    { day: 'Среда', number: '4', department: ['Экономический'], group: ['241'], teacher: 'Бгашев М.В.', lesson: 'Экономика управления персоналом', type: 'лек.', parity: '-'},
    { day: 'Среда', number: '6', department: ['Экономический'], group: ['151'], teacher: 'Голубева С.С.', lesson: 'Финансовый и управленческий учёт', type: 'лек.', parity: '-'},
    { day: 'Среда', number: '7', department: ['Экономический'], group: ['151'], teacher: 'Голубева С.С.', lesson: 'Финансовый и управленческий учёт', type: 'пр.', parity: '-'},
    { day: 'Четверг', number: '2', department: ['Экономический'], group: ['241'], teacher: 'Милованов Д.И.', lesson: 'Статистика', type: 'пр.', parity: '-'},
    { day: 'Четверг', number: '3', department: ['Экономический'], group: ['241'], teacher: 'Юсупова С.М.', lesson: 'Организация и нормирование труда', type: 'лек.', parity: '-'},
    { day: 'Четверг', number: '4', department: ['Экономический'], group: ['241'], teacher: 'Юсупова С.М.', lesson: 'Организация и нормирование труда', type: 'пр.', parity: '-'},
    { day: 'Суббота', number: '3', department: ['Экономический'], group: ['341'], teacher: 'Кузнецов П.С.', lesson: 'Основы кадровой политики и кадрового планирования', type: 'лек.', parity: '-'},
    { day: 'Суббота', number: '4', department: ['Экономический'], group: ['341'], teacher: 'Кузнецов П.С.', lesson: 'Основы кадровой политики и кадрового планирования', type: 'пр.', parity: '-'},]);

const map = create_map('fifth_floor.png');

const popup = create_popup();
map.addOverlay(popup);

pointermove(map, defaultStyle, highlightStyle, popup);
click(map, get_filters, show_schedule);

fill_filter(vectorSource);

setup_filter(apply_filter);

reset_filters(apply_filter, filter_features);